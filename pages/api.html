<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="description" content="APIs - Conceitos, Arquitetura, REST, HTTP, Autentica√ß√£o e Integra√ß√£o">
    <meta name="theme-color" content="#8B5A2B">
    <title>APIs - Guia Completo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/pages.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <header class="header">
            <div class="header-content">
                <!-- Logo SVG -->
                <div class="logo-wrapper">
                      <svg class="logo" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-label="JAVA Coffee Cup Logo">
                        <defs>
                            <linearGradient id="neonGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00D4FF;stop-opacity:0.6" />
                                <stop offset="100%" style="stop-color:#0099FF;stop-opacity:0.3" />
                            </linearGradient>
                        </defs>
                        <path class="cup-body" d="M 60 70 L 50 140 Q 50 160 70 160 L 130 160 Q 150 160 150 140 L 140 70 Z" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <ellipse class="cup-body" cx="100" cy="160" rx="45" ry="8" fill="none" stroke="currentColor" stroke-width="3"/>
                        <path class="cup-handle" d="M 140 90 Q 170 90 170 120 Q 170 150 140 150" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                        <path class="cup-liquid" d="M 60 130 L 52 145 Q 52 155 70 158 L 130 158 Q 148 155 148 145 L 140 130 Q 100 135 60 130 Z" fill="currentColor" opacity="0.4"/>
                        <path class="steam-line" d="M 70 60 Q 65 45 70 30" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" stroke-linecap="round"/>
                        <path class="steam-line" d="M 100 55 Q 95 35 100 15" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" stroke-linecap="round"/>
                        <path class="steam-line" d="M 130 60 Q 135 45 130 30" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" stroke-linecap="round"/>
                        <circle cx="100" cy="100" r="50" fill="none" stroke="url(#neonGradient)" stroke-width="1" opacity="0.4" class="neon-ring"/>
                    </svg>
                </div>

                <!-- T√≠tulo -->
                <div class="header-text">
                    <h1>JAVA Learning</h1>
                    <p class="subtitle">Hub de Conte√∫do</p>
                </div>

                <!-- Toggle Modo Escuro/Claro -->
                <button class="theme-toggle" id="themeToggle" aria-label="Alternar entre modo claro e escuro">
                    <svg class="sun-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg class="moon-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </div>
        </header>

        <!-- CONTE√öDO -->
        <section class="content">
            <h1>üîå APIs - Interface de Programa√ß√£o de Aplica√ß√µes</h1>
            <p class="subtitle">Conceitos, Arquitetura, Protocolos e Integra√ß√£o</p>

            <!-- INTRODU√á√ÉO -->
            <div class="section">
                <h2>1. O que √© uma API?</h2>
                
                <div class="intro-text">
                 <p>
             <p><strong>API (Application Programming Interface)</strong> √© um conjunto de regras que permite que diferentes sistemas se comuniquem e troquem informa√ß√µes de forma padronizada. Ela define como solicita√ß√µes devem ser feitas, quais dados podem ser enviados e como as respostas ser√£o estruturadas.</p>

<p>Ao usar uma API, o cliente faz uma requisi√ß√£o especificando o que deseja acessar. Essa requisi√ß√£o √© enviada a um servidor, que processa o pedido e devolve uma resposta estruturada, normalmente no formato <strong>JSON</strong> ou <strong>XML</strong>.</p>

<p>Para acessar diferentes recursos dentro de um sistema, utilizam-se <strong>endpoints</strong>, que s√£o como endere√ßos espec√≠ficos para cada funcionalidade. Por exemplo: <code>/api/usuarios</code> pode retornar uma lista de usu√°rios.</p>

<p>As opera√ß√µes mais comuns em uma API seguem o padr√£o <strong>HTTP</strong>:</p>
<ul>
    <li><strong>GET:</strong> obter dados</li>
    <li><strong>POST:</strong> enviar dados e criar novos registros</li>
    <li><strong>PUT/PATCH:</strong> atualizar informa√ß√µes existentes</li>
    <li><strong>DELETE:</strong> excluir dados</li>
</ul>

<p>Muitas APIs exigem <strong>autentica√ß√£o</strong> para garantir seguran√ßa. Isso pode ser feito com <strong>tokens</strong>, <strong>chaves de acesso</strong> ou protocolos como <strong>OAuth</strong>, protegendo informa√ß√µes e evitando acessos n√£o autorizados.</p>

<p>APIs tamb√©m podem ter <strong>limites de requisi√ß√£o</strong> (rate limits) para evitar sobrecarga, garantindo estabilidade e desempenho do sistema.</p>

<p>No mundo real, APIs permitem que aplicativos usem mapas, fa√ßam pagamentos, se conectem a redes sociais, enviem mensagens, consultem bancos de dados e muito mais, tornando o desenvolvimento mais r√°pido e eficiente.</p>

<p>Em resumo, uma API √© a ponte que conecta sistemas, permitindo inova√ß√£o sem precisar reinventar funcionalidades j√° existentes.</p>

</div>

            <!-- COMPARA√á√ÉO R√ÅPIDA -->
            <div class="section">
                <h2>2. Conceitos Fundamentais</h2>

                <div class="solid-box" style="border-left: 5px solid #0ea5e9;">
                    <h3>Cliente (Client)</h3>
                    <ul class="explanation-list">
                        <li><strong>Fun√ß√£o:</strong> Solicita dados ou funcionalidades</li>
                        <li><strong>Exemplos:</strong> Website, app mobile, outro backend</li>
                        <li><strong>A√ß√£o:</strong> Envia requisi√ß√µes HTTP</li>
                        <li><strong>Responsabilidade:</strong> Formatar dados corretamente</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #10b981;">
                    <h3>Servidor (Server)</h3>
                    <ul class="explanation-list">
                        <li><strong>Fun√ß√£o:</strong> Fornece dados ou funcionalidades</li>
                        <li><strong>Exemplos:</strong> Backend em Java, Node.js, Python</li>
                        <li><strong>A√ß√£o:</strong> Processa requisi√ß√µes e retorna respostas</li>
                        <li><strong>Responsabilidade:</strong> Validar e processar dados</li>
                    </ul>
                </div>
            </div>

            <div class="divider"></div>

            <!-- TIPOS DE APIs -->
            <div class="section">
                <h2>3. Tipos de APIs</h2>

                <p>Existem diferentes tipos de APIs, cada uma com suas caracter√≠sticas, vantagens e casos de uso espec√≠ficos.</p>

                <h3>REST API (Representational State Transfer):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">http</span>
                    </div>
                    <pre><code class="language-http">// Mais popular e recomendada
// Usa URLs para representar recursos
// M√©todos HTTP para opera√ß√µes (GET, POST, PUT, DELETE)

GET /api/usuarios           // Listar todos
GET /api/usuarios/123       // Obter um espec√≠fico
POST /api/usuarios          // Criar novo
PUT /api/usuarios/123       // Atualizar
DELETE /api/usuarios/123    // Deletar

// Caracter√≠sticas:
// ‚úì Simples e intuitiva
// ‚úì Escal√°vel
// ‚úì Stateless (sem estado)
// ‚úì Cacheable</code></pre>
                </div>

                <!-- <h3>GraphQL:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">graphql</span>
                    </div>
                    <pre><code class="language-graphql">// Voc√™ pede EXATAMENTE o que precisa
// Sem dados desnecess√°rios (over-fetching)
// Sem m√∫ltiplas requisi√ß√µes (under-fetching)

query {
  usuario(id: 123) {
    nome
    email
    posts {
      titulo
      conteudo
    }
  }
}

// Caracter√≠sticas:
// ‚úì Flex√≠vel
// ‚úì Eficiente em dados
// ‚úì Autodocumentado
// ‚úó Mais complexo que REST</code></pre>
                </div> -->

                <h3>SOAP (Simple Object Access Protocol):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">xml</span>
                    </div>
                    <pre><code class="language-xml">&lt;?xml version="1.0"?&gt;
&lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/"&gt;
  &lt;soap:Body&gt;
    &lt;GetUsuario&gt;
      &lt;id&gt;123&lt;/id&gt;
    &lt;/GetUsuario&gt;
  &lt;/soap:Body&gt;
&lt;/soap:Envelope&gt;

// Caracter√≠sticas:
// ‚úì Muito seguro
// ‚úì Padr√£o W3C
// ‚úó Pesado e complexo
// ‚úó Menos usado atualmente (legado)</code></pre>
                </div>

                <h3>Webhook:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">java</span>
                    </div>
                    <pre><code class="language-java">// A aplica√ß√£o envia dados automaticamente quando algo acontece
// Orientada a eventos
// O servidor inicia a comunica√ß√£o (n√£o o cliente)

// Exemplo: Pagamento confirmado
POST https://seu-app.com/webhooks/pagamento
Content-Type: application/json

{
  "evento": "pagamento_confirmado",
  "id_pagamento": "pay_123",
  "valor": 150.00,
  "timestamp": "2025-10-29T14:30:00Z"
}

// Caracter√≠sticas:
// ‚úì Orientado a eventos
// ‚úì Tempo real
// ‚úì Reduz polling
// ‚úó Requer tratamento de erros robusto</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- PROTOCOLOS HTTP -->
            <div class="section">
                <h2>4. Protocolo HTTP e M√©todos</h2>

                <p>A maioria das APIs modernas usa <strong>HTTP</strong> como protocolo de transporte. Os principais m√©todos s√£o:</p>

                <h3>M√©todos HTTP e Opera√ß√µes:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">http</span>
                    </div>
                    <pre><code class="language-http">// GET - Recuperar dados (READ)
GET /api/usuarios
GET /api/usuarios/123
Caracter√≠sticas: Seguro, Idempotente, Cache√°vel

// POST - Criar novo recurso (CREATE)
POST /api/usuarios
Body: { "nome": "Jo√£o", "email": "joao@mail.com" }
Caracter√≠sticas: N√£o-idempotente, Pode ter efeitos colaterais

// PUT - Atualizar completamente (UPDATE)
PUT /api/usuarios/123
Body: { "nome": "Jo√£o Silva", "email": "joao.silva@mail.com" }
Caracter√≠sticas: Idempotente, Substitui tudo

// PATCH - Atualizar parcialmente (PARTIAL UPDATE)
PATCH /api/usuarios/123
Body: { "nome": "Jo√£o Silva" }
Caracter√≠sticas: Idempotente, Atualiza apenas campos enviados

// DELETE - Remover recurso (DELETE)
DELETE /api/usuarios/123
Caracter√≠sticas: Idempotente, Remove permanentemente

// HEAD - Como GET mas sem body
HEAD /api/usuarios
Caracter√≠sticas: Verifica disponibilidade sem dados

// OPTIONS - Descreve op√ß√µes de comunica√ß√£o
OPTIONS /api/usuarios
Caracter√≠sticas: Usado para CORS pr√©-flight</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- STATUS CODES -->
            <div class="section">
                <h2>5. C√≥digos de Status HTTP</h2>

                <h3>Status Codes - Categorizados:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">http</span>
                    </div>
                    <pre><code class="language-http">// 2xx - SUCESSO ‚úì
200 OK              - Requisi√ß√£o bem-sucedida
201 Created         - Recurso criado com sucesso
204 No Content      - Sucesso mas sem conte√∫do no corpo
202 Accepted        - Requisi√ß√£o aceita mas ainda processando

// 3xx - REDIRECIONAMENTO ‚Üª
301 Moved Permanently    - Mudou permanentemente
302 Found                - Mudou temporariamente
304 Not Modified         - Dados n√£o alterados (use cache)
307 Temporary Redirect   - Redire√ß√£o tempor√°ria

// 4xx - ERRO DO CLIENTE ‚úó
400 Bad Request          - Requisi√ß√£o inv√°lida
401 Unauthorized         - Autentica√ß√£o necess√°ria
403 Forbidden            - Autenticado mas sem permiss√£o
404 Not Found            - Recurso n√£o encontrado
409 Conflict             - Conflito (ex: email duplicado)
429 Too Many Requests    - Rate limit excedido

// 5xx - ERRO DO SERVIDOR ‚ö†
500 Internal Server Error    - Erro interno no servidor
503 Service Unavailable      - Servi√ßo temporariamente indispon√≠vel
504 Gateway Timeout          - Timeout na comunica√ß√£o</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- EXEMPLO PR√ÅTICO -->
            <div class="section">
                <h2>6. Exemplo Pr√°tico: REST API com Spring Boot</h2>

                <p>Vamos criar uma REST API completa de gerenciamento de usu√°rios em Java com Spring Boot.</p>

                <h3>Modelo (Entidade):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">java</span>
                    </div>
                    <pre><code class="language-java">import javax.persistence.*;
import lombok.Data;
import java.time.LocalDateTime;

@Data
@Entity
@Table(name = "usuarios")
public class Usuario {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(nullable = false)
    private String nome;
    
    @Column(nullable = false, unique = true)
    private String email;
    
    @Column(nullable = false)
    private String senha;
    
    private boolean ativo = true;
    
    @Column(name = "criado_em", updatable = false)
    private LocalDateTime criadoEm = LocalDateTime.now();
    
    @Column(name = "atualizado_em")
    private LocalDateTime atualizadoEm;
}</code></pre>
                </div>

                <h3>Reposit√≥rio (Data Access):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">java</span>
                    </div>
                    <pre><code class="language-java">import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface UsuarioRepository extends JpaRepository<Usuario, Long> {
    Usuario findByEmail(String email);
    
    boolean existsByEmail(String email);
}</code></pre>
                </div>

                <h3>Controlador (REST Endpoints):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">java</span>
                    </div>
                    <pre><code class="language-java">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import java.util.List;
import java.time.LocalDateTime;

@RestController
@RequestMapping("/api/usuarios")
@CrossOrigin(origins = "*")
public class UsuarioController {
    
    @Autowired
    private UsuarioRepository usuarioRepository;
    
    // GET - Listar todos
    @GetMapping
    public ResponseEntity<List<Usuario>> listarTodos() {
        List<Usuario> usuarios = usuarioRepository.findAll();
        return ResponseEntity.ok(usuarios);
    }
    
    // GET - Buscar por ID
    @GetMapping("/{id}")
    public ResponseEntity<Usuario> buscarPorId(@PathVariable Long id) {
        return usuarioRepository.findById(id)
            .map(ResponseEntity::ok)
            .orElse(ResponseEntity.notFound().build());
    }
    
    // POST - Criar novo usu√°rio
    @PostMapping
    public ResponseEntity<?> criar(@RequestBody Usuario usuario) {
        if (usuarioRepository.existsByEmail(usuario.getEmail())) {
            return ResponseEntity.status(HttpStatus.CONFLICT)
                .body("Email j√° registrado");
        }
        usuario.setCriadoEm(LocalDateTime.now());
        usuario.setAtualizado(LocalDateTime.now());
        Usuario salvo = usuarioRepository.save(usuario);
        return ResponseEntity.status(HttpStatus.CREATED).body(salvo);
    }
    
    // PUT - Atualizar completamente
    @PutMapping("/{id}")
    public ResponseEntity<?> atualizar(
        @PathVariable Long id, 
        @RequestBody Usuario usuarioAtualizado) {
        
        return usuarioRepository.findById(id)
            .map(usuario -> {
                usuario.setNome(usuarioAtualizado.getNome());
                usuario.setEmail(usuarioAtualizado.getEmail());
                usuario.setAtivo(usuarioAtualizado.isAtivo());
                usuario.setAtualizadoEm(LocalDateTime.now());
                Usuario salvo = usuarioRepository.save(usuario);
                return ResponseEntity.ok(salvo);
            })
            .orElse(ResponseEntity.notFound().build());
    }
    
    // PATCH - Atualizar parcialmente
    @PatchMapping("/{id}")
    public ResponseEntity<?> atualizarParcial(
        @PathVariable Long id,
        @RequestBody Usuario usuarioAtualizado) {
        
        return usuarioRepository.findById(id)
            .map(usuario -> {
                if (usuarioAtualizado.getNome() != null) {
                    usuario.setNome(usuarioAtualizado.getNome());
                }
                if (usuarioAtualizado.getEmail() != null) {
                    usuario.setEmail(usuarioAtualizado.getEmail());
                }
                usuario.setAtualizadoEm(LocalDateTime.now());
                Usuario salvo = usuarioRepository.save(usuario);
                return ResponseEntity.ok(salvo);
            })
            .orElse(ResponseEntity.notFound().build());
    }
    
    // DELETE - Remover usu√°rio
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deletar(@PathVariable Long id) {
        if (usuarioRepository.existsById(id)) {
            usuarioRepository.deleteById(id);
            return ResponseEntity.noContent().build();
        }
        return ResponseEntity.notFound().build();
    }
}</code></pre>
                </div>

                <h3>Exemplos de Requisi√ß√µes:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">http</span>
                    </div>
                    <pre><code class="language-http">// 1Ô∏è‚É£ GET - Listar todos os usu√°rios
GET http://localhost:8080/api/usuarios
Accept: application/json

Resposta 200 OK:
[
  {
    "id": 1,
    "nome": "Ana Silva",
    "email": "ana@example.com",
    "ativo": true,
    "criadoEm": "2025-10-29T10:30:00"
  },
  {
    "id": 2,
    "nome": "Bruno Costa",
    "email": "bruno@example.com",
    "ativo": true,
    "criadoEm": "2025-10-29T11:15:00"
  }
]

---

// 2Ô∏è‚É£ GET - Buscar usu√°rio espec√≠fico
GET http://localhost:8080/api/usuarios/1
Accept: application/json

Resposta 200 OK:
{
  "id": 1,
  "nome": "Ana Silva",
  "email": "ana@example.com",
  "ativo": true,
  "criadoEm": "2025-10-29T10:30:00"
}

---

// 3Ô∏è‚É£ POST - Criar novo usu√°rio
POST http://localhost:8080/api/usuarios
Content-Type: application/json

{
  "nome": "Carlos Souza",
  "email": "carlos@example.com",
  "senha": "senha123"
}

Resposta 201 Created:
{
  "id": 3,
  "nome": "Carlos Souza",
  "email": "carlos@example.com",
  "ativo": true,
  "criadoEm": "2025-10-29T14:45:00"
}

---

// 4Ô∏è‚É£ PUT - Atualizar usu√°rio completamente
PUT http://localhost:8080/api/usuarios/1
Content-Type: application/json

{
  "nome": "Ana Silva Santos",
  "email": "ana.silva@example.com",
  "ativo": true
}

Resposta 200 OK: (usu√°rio atualizado)

---

// 5Ô∏è‚É£ PATCH - Atualizar apenas o nome
PATCH http://localhost:8080/api/usuarios/1
Content-Type: application/json

{
  "nome": "Ana S. Santos"
}

Resposta 200 OK: (apenas nome atualizado)

---

// 6Ô∏è‚É£ DELETE - Remover usu√°rio
DELETE http://localhost:8080/api/usuarios/1

Resposta 204 No Content</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- AUTENTICA√á√ÉO -->
            <div class="section">
                <h2>7. Autentica√ß√£o e Seguran√ßa</h2>

                <p>APIs precisam proteger dados sens√≠veis. Existem v√°rias estrat√©gias de autentica√ß√£o:</p>

                <h3>Basic Auth:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">http</span>
                    </div>
                    <pre><code class="language-http">// Envia usu√°rio e senha em cada requisi√ß√£o (Base64)
GET /api/usuarios HTTP/1.1
Authorization: Basic dXN1YXJpbzpzZW5oYQ==

// dXN1YXJpbzpzZW5oYQ== √© base64 de "usuario:senha"
// ‚úì Simples
// ‚úó Inseguro sem HTTPS
// ‚úó Credenciais em toda requisi√ß√£o</code></pre>
                </div>

                <h3>Bearer Token:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">http</span>
                    </div>
                    <pre><code class="language-http">// Cliente obt√©m token ap√≥s autentica√ß√£o
// Envia token em cada requisi√ß√£o

POST /api/auth/login
Content-Type: application/json

{
  "email": "usuario@example.com",
  "senha": "senha123"
}

Resposta 200 OK:
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "tipo": "Bearer",
  "expiraEm": "2025-10-30T14:30:00"
}

---

// Usar token em requisi√ß√µes subsequentes
GET /api/usuarios
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</code></pre>
                </div>

                <h3>JWT (JSON Web Token):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">java</span>
                    </div>
                    <pre><code class="language-java">import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;
import io.jsonwebtoken.security.Keys;
import java.util.Date;

public class JwtUtil {
    private static final String SECRET_KEY = "sua_chave_super_secreta_aqui_com_minimo_32_caracteres";
    private static final long EXPIRATION_TIME = 86400000; // 24 horas
    
    // Gerar token
    public static String gerarToken(String email, Long usuarioId) {
        return Jwts.builder()
            .setSubject(email)
            .claim("usuarioId", usuarioId)
            .setIssuedAt(new Date())
            .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME))
            .signWith(
                Keys.hmacShaKeyFor(SECRET_KEY.getBytes()),
                SignatureAlgorithm.HS256
            )
            .compact();
    }
    
    // Validar e extrair email do token
    public static String extrairEmail(String token) {
        return Jwts.parserBuilder()
            .setSigningKey(Keys.hmacShaKeyFor(SECRET_KEY.getBytes()))
            .build()
            .parseClaimsJws(token)
            .getBody()
            .getSubject();
    }
    
    // Validar se token √© v√°lido
    public static boolean validarToken(String token) {
        try {
            Jwts.parserBuilder()
                .setSigningKey(Keys.hmacShaKeyFor(SECRET_KEY.getBytes()))
                .build()
                .parseClaimsJws(token);
            return true;
        } catch (Exception e) {
            return false;
        }
    }
}</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- BOAS PR√ÅTICAS -->
            <div class="section">
                <h2>8. Boas Pr√°ticas para APIs</h2>

                <div class="solid-box" style="border-left: 5px solid #0ea5e9;">
                    <h3>‚úì Versionamento de API</h3>
                    <ul class="explanation-list">
                        <li>Use vers√µes na URL: /api/v1/usuarios</li>
                        <li>Permite evoluir sem quebrar clientes antigos</li>
                        <li>Facilita migra√ß√£o gradual</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #10b981;">
                    <h3>‚úì Nomes Descritivos e Consistentes</h3>
                    <ul class="explanation-list">
                        <li>Use substantivos para endpoints: /usuarios, /produtos</li>
                        <li>Evite verbos: /obterUsuarios ‚ùå ‚Üí /usuarios ‚úì</li>
                        <li>Use plural: /produtos n√£o /produto</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #f59e0b;">
                    <h3>‚úì Tratamento de Erros</h3>
                    <ul class="explanation-list">
                        <li>Retorne mensagens claras e √∫teis</li>
                        <li>Use status codes apropriados</li>
                        <li>Padronize o formato de erro em JSON</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #ef4444;">
                    <h3>‚úì Documenta√ß√£o</h3>
                    <ul class="explanation-list">
                        <li>Use Swagger/OpenAPI para gerar documenta√ß√£o autom√°tica</li>
                        <li>Documente todos os endpoints</li>
                        <li>Inclua exemplos de requisi√ß√£o e resposta</li>
                    </ul>
                </div>
            </div>

            <div class="divider"></div>

            <!-- EXERC√çCIOS -->
            <div class="section">
                <h2>9. Exerc√≠cios Pr√°ticos</h2>
                
                <div class="exercise-box">
                    <h4>Exerc√≠cio 1: API de Tarefas</h4>
                    <p>Crie uma REST API com CRUD completo (Create, Read, Update, Delete) para gerenciar tarefas. Use Spring Boot, JPA e MySQL.</p>
                </div>

                <div class="exercise-box">
                    <h4>Exerc√≠cio 2: Integra√ß√£o com API Externa</h4>
                    <p>Use RestTemplate ou WebClient para integrar sua aplica√ß√£o com uma API p√∫blica (ex: ViaCEP para endere√ßos). Trate erros corretamente.</p>
                </div>

                <div class="exercise-box">
                    <h4>Exerc√≠cio 3: Autentica√ß√£o com JWT</h4>
                    <p>Implemente autentica√ß√£o JWT em uma API existente. Crie endpoints de login e proteja outros endpoints verificando o token.</p>
                </div>

                <div class="exercise-box">
                    <h4>Exerc√≠cio 4: Documenta√ß√£o com Swagger</h4>
                    <p>Configure Swagger/SpringFox em um projeto Spring Boot. Documente todos os endpoints com descri√ß√µes, par√¢metros e exemplos.</p>
                </div>

                <div class="exercise-box">
                    <h4>Exerc√≠cio 5: Tratamento Centralizado de Erros</h4>
                    <p>Crie um @ControllerAdvice que padroniza respostas de erro em JSON com mensagens claras e status codes apropriados.</p>
                </div>
            </div>

            <div class="divider"></div>

            <!-- CONCLUS√ÉO -->
            <div class="conclusion-box">
                <h2>Conclus√£o</h2>
                <p><strong>APIs</strong> s√£o a espinha dorsal da web moderna e comunica√ß√£o entre sistemas. Entender seus conceitos √© essencial para qualquer desenvolvedor.</p>
                <p>Pontos-chave para lembrar:</p>
                <ul class="explanation-list">
                    <li><strong>REST</strong> √© o padr√£o mais popular para APIs web</li>
                    <li><strong>HTTP m√©todos</strong> definem as opera√ß√µes (GET, POST, PUT, DELETE, PATCH)</li>
                    <li><strong>Status codes</strong> comunicam o resultado da opera√ß√£o</li>
                    <li><strong>Autentica√ß√£o</strong> √© essencial para proteger dados</li>
                    <li><strong>Documenta√ß√£o</strong> e <strong>boas pr√°ticas</strong> tornam a API us√°vel e mant√≠vel</li>
                </ul>
                <p>Pratique criando suas pr√≥prias APIs e integrando-se com APIs de terceiros. Isso √© um dos conhecimentos mais valiosos no desenvolvimento moderno! üöÄ</p>
            </div>

        </section>

        <!-- RODAP√â -->
        <footer class="footer">
            <p><strong>JAVA Learning</strong> - Hub de Conte√∫do SENAI</p>
            <p>APIs: REST, GraphQL, Autentica√ß√£o, Seguran√ßa, Integra√ß√£o!</p>
            <p>Do conceito √† implementa√ß√£o: APIs escal√°veis, seguras e bem documentadas!</p>
        </footer>
    </div>

    <!-- Bot√£o Voltar ao Topo com Menu -->
    <div class="scroll-to-top-wrapper">
        <button class="scroll-to-top" id="scrollToTop" aria-label="Menu de navega√ß√£o">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="18 15 12 9 6 15"></polyline>
            </svg>
        </button>
        
        <nav class="scroll-menu" id="scrollMenu">
            <ul></ul>
        </nav>
    </div>

    <script defer src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            hljs.highlightAll();
        });
    </script>
</body>
</html>