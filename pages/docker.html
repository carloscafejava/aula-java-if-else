<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="description" content="Docker Compose - Orquestra√ß√£o de Containers, MySQL, PostgreSQL e Desenvolvimento">
    <meta name="theme-color" content="#8B5A2B">
    <title>Docker Compose - Guia Completo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/pages.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <header class="header">
            <div class="header-content">
                <!-- Logo SVG -->
                <div class="logo-wrapper">
                    <svg class="logo" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-label="JAVA Coffee Cup Logo">
                        <defs>
                            <linearGradient id="neonGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00D4FF;stop-opacity:0.6" />
                                <stop offset="100%" style="stop-color:#0099FF;stop-opacity:0.3" />
                            </linearGradient>
                        </defs>
                        <path class="cup-body" d="M 60 70 L 50 140 Q 50 160 70 160 L 130 160 Q 150 160 150 140 L 140 70 Z" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <ellipse class="cup-body" cx="100" cy="160" rx="45" ry="8" fill="none" stroke="currentColor" stroke-width="3"/>
                        <path class="cup-handle" d="M 140 90 Q 170 90 170 120 Q 170 150 140 150" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                        <path class="cup-liquid" d="M 60 130 L 52 145 Q 52 155 70 158 L 130 158 Q 148 155 148 145 L 140 130 Q 100 135 60 130 Z" fill="currentColor" opacity="0.4"/>
                        <path class="steam-line" d="M 70 60 Q 65 45 70 30" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" stroke-linecap="round"/>
                        <path class="steam-line" d="M 100 55 Q 95 35 100 15" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" stroke-linecap="round"/>
                        <path class="steam-line" d="M 130 60 Q 135 45 130 30" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" stroke-linecap="round"/>
                        <circle cx="100" cy="100" r="50" fill="none" stroke="url(#neonGradient)" stroke-width="1" opacity="0.4" class="neon-ring"/>
                    </svg>
                </div>

                <!-- T√≠tulo -->
                <div class="header-text">
                    <h1>JAVA Learning</h1>
                    <p class="subtitle">Hub de Conte√∫do</p>
                </div>

                <!-- Toggle Modo Escuro/Claro -->
                <button class="theme-toggle" id="themeToggle" aria-label="Alternar entre modo claro e escuro">
                    <svg class="sun-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg class="moon-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </div>
        </header>

        <!-- CONTE√öDO -->
        <section class="content">
            <h1>üê≥ Docker Compose - Orquestra√ß√£o de Containers</h1>
            <p class="subtitle">Conceitos, Configura√ß√£o, MySQL, PostgreSQL e Desenvolvimento Local</p>

            <!-- INTRODU√á√ÉO -->
            <div class="section">
                <h2>1. O que √© Docker Compose?</h2>
                
                <div class="intro-text">
                    <p><strong>Docker Compose</strong> √© uma ferramenta que permite definir e executar aplica√ß√µes multi-container com Docker. Com um √∫nico arquivo YAML, voc√™ pode descrever todos os servi√ßos, redes e volumes necess√°rios para sua aplica√ß√£o.</p>

                    <p>Em vez de executar m√∫ltiplos comandos `docker run`, voc√™ define tudo em um arquivo `docker-compose.yml` e inicia com um simples comando: `docker-compose up`.</p>

                    <p>Docker Compose √© ideal para desenvolvimento local, testes, e ambientes de staging. Permite que voc√™ defina uma stack completa (banco de dados, cache, web server, etc) com facilidade e reprodutibilidade.</p>

                    <p>Os principais benef√≠cios do Docker Compose s√£o:</p>
                    <ul>
                        <li><strong>Simplicidade:</strong> Uma √∫nico arquivo para toda a stack</li>
                        <li><strong>Reprodutibilidade:</strong> Mesmo ambiente em qualquer m√°quina</li>
                        <li><strong>Isolamento:</strong> Containers isolados em redes pr√≥prias</li>
                        <li><strong>Facilidade:</strong> Sem necessidade de lembrar comandos complexos</li>
                        <li><strong>Velocidade:</strong> Inicie m√∫ltiplos servi√ßos com um comando</li>
                    </ul>

                    <p>O fluxo de trabalho √© simples: voc√™ escreve um `docker-compose.yml` descrevendo os servi√ßos, depois executa `docker-compose up` para inici√°-los. Todos os containers s√£o criados, conectados em rede e iniciados automaticamente.</p>

                    <p>Docker Compose √© especialmente √∫til para criar ambientes de desenvolvimento que espelham o ambiente de produ√ß√£o, permitindo que problemas sejam detectados mais cedo.</p>

                    <p>Em resumo, Docker Compose simplifica o gerenciamento de m√∫ltiplos containers, tornando o desenvolvimento mais r√°pido, previs√≠vel e collaborativo! üöÄ</p>
                </div>
            </div>

            <!-- CONCEITOS FUNDAMENTAIS -->
            <div class="section">
                <h2>2. Conceitos Fundamentais</h2>

                <div class="solid-box" style="border-left: 5px solid #0ea5e9;">
                    <h3>Servi√ßo (Service)</h3>
                    <ul class="explanation-list">
                        <li><strong>Defini√ß√£o:</strong> Um container ou grupo de containers relacionados</li>
                        <li><strong>Exemplos:</strong> MySQL, Redis, Node.js, Nginx</li>
                        <li><strong>Configura√ß√£o:</strong> Definido no docker-compose.yml</li>
                        <li><strong>Comunica√ß√£o:</strong> Servi√ßos se comunicam por nome de servi√ßo</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #10b981;">
                    <h3>Volume (Volume)</h3>
                    <ul class="explanation-list">
                        <li><strong>Defini√ß√£o:</strong> Armazenamento persistente para dados</li>
                        <li><strong>Tipos:</strong> Volumes nomeados ou mounts de host</li>
                        <li><strong>Uso:</strong> Dados de banco de dados, arquivos de aplica√ß√£o</li>
                        <li><strong>Persist√™ncia:</strong> Dados survivem ao restart do container</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #f59e0b;">
                    <h3>Rede (Network)</h3>
                    <ul class="explanation-list">
                        <li><strong>Defini√ß√£o:</strong> Conex√£o entre containers</li>
                        <li><strong>Padr√£o:</strong> Rede bridge autom√°tica por projeto</li>
                        <li><strong>DNS:</strong> Servi√ßos se resolvem por nome</li>
                        <li><strong>Isolamento:</strong> Cada projeto tem sua pr√≥pria rede</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #ef4444;">
                    <h3>Arquivo docker-compose.yml</h3>
                    <ul class="explanation-list">
                        <li><strong>Formato:</strong> YAML (indenta√ß√£o importa!)</li>
                        <li><strong>Vers√£o:</strong> Especifica compatibilidade (v3.x √© padr√£o)</li>
                        <li><strong>Localiza√ß√£o:</strong> Raiz do projeto</li>
                        <li><strong>Nomes:</strong> docker-compose.yml ou docker-compose.yaml</li>
                    </ul>
                </div>
            </div>

            <div class="divider"></div>

            <!-- INSTALA√á√ÉO -->
            <div class="section">
                <h2>3. Instala√ß√£o do Docker e Docker Compose</h2>

                <h3>Windows e Mac (Desktop):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">bash</span>
                    </div>
                    <pre><code class="language-bash"># Docker Desktop j√° inclui Docker Compose
# Download em: https://www.docker.com/products/docker-desktop

# Verificar instala√ß√£o
docker --version
docker-compose --version

# Deve retornar algo como:
# Docker version 24.0.0, build abcdef
# Docker Compose version 2.20.0</code></pre>
                </div>

                <h3>Linux (Ubuntu/Debian):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">bash</span>
                    </div>
                    <pre><code class="language-bash"># Instalar Docker
sudo apt update
sudo apt install docker.io

# Instalar Docker Compose
sudo apt install docker-compose

# Adicionar usu√°rio ao grupo docker (para n√£o usar sudo)
sudo usermod -aG docker $USER
newgrp docker

# Testar instala√ß√£o
docker --version
docker-compose --version</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- ESTRUTURA B√ÅSICA -->
            <div class="section">
                <h2>4. Estrutura do docker-compose.yml</h2>

                <h3>Arquivo B√°sico:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">yaml</span>
                    </div>
                    <pre><code class="language-yaml">version: '3.8'  # Vers√£o do Compose

services:
  # Nome do servi√ßo (como voc√™ ir√° referenciar)
  mysql:
    image: mysql:8.0                 # Imagem Docker a usar
    container_name: meu-mysql        # Nome do container
    environment:                      # Vari√°veis de ambiente
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: meu_banco
      MYSQL_USER: usuario
      MYSQL_PASSWORD: senha123
    ports:
      - "3306:3306"                 # Porta host:container
    volumes:
      - mysql_data:/var/lib/mysql   # Volume para persist√™ncia
    networks:
      - minha_rede                   # Rede customizada

volumes:
  # Define volumes que ser√£o criados
  mysql_data:
    driver: local

networks:
  # Define redes customizadas
  minha_rede:
    driver: bridge</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- EXEMPLO: MYSQL -->
            <div class="section">
                <h2>5. Exemplo Pr√°tico: MySQL com Docker Compose</h2>

                <p>Vamos criar um ambiente MySQL completo para desenvolvimento.</p>

                <h3>docker-compose.yml - MySQL Simples:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">yaml</span>
                    </div>
                    <pre><code class="language-yaml">version: '3.8'

services:
  mysql:
    image: mysql:8.0
    container_name: mysql-dev
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: dev_db
      MYSQL_USER: dev_user
      MYSQL_PASSWORD: dev_pass123
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - dev_network
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
      timeout: 20s
      retries: 10

volumes:
  mysql_data:
    driver: local

networks:
  dev_network:
    driver: bridge</code></pre>
                </div>

                <h3>Iniciar e Gerenciar:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">bash</span>
                    </div>
                    <pre><code class="language-bash"># Iniciar os containers em background
docker-compose up -d

# Ver status dos containers
docker-compose ps

# Ver logs
docker-compose logs -f mysql

# Acessar o MySQL
docker-compose exec mysql mysql -u root -p dev_db

# Parar os containers
docker-compose stop

# Parar e remover containers
docker-compose down

# Remover tamb√©m os volumes (CUIDADO - apaga dados!)
docker-compose down -v</code></pre>
                </div>

                <h3>Arquivo init.sql (Inicializar banco):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">sql</span>
                    </div>
                    <pre><code class="language-sql">-- Arquivo: init.sql
-- Ser√° executado automaticamente ao criar o container

CREATE TABLE IF NOT EXISTS usuarios (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO usuarios (nome, email) VALUES
('Ana Silva', 'ana@example.com'),
('Bruno Costa', 'bruno@example.com'),
('Carlos Souza', 'carlos@example.com');</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- EXEMPLO: POSTGRESQL -->
            <div class="section">
                <h2>6. PostgreSQL com Docker Compose</h2>

                <p>Alternativa ao MySQL com mais recursos avan√ßados.</p>

                <h3>docker-compose.yml - PostgreSQL:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">yaml</span>
                    </div>
                    <pre><code class="language-yaml">version: '3.8'

services:
  postgres:
    image: postgres:15-alpine
    container_name: postgres-dev
    environment:
      POSTGRES_USER: dev_user
      POSTGRES_PASSWORD: dev_pass123
      POSTGRES_DB: dev_db
      POSTGRES_INITDB_ARGS: "--encoding=UTF8"
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - dev_network
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U dev_user"]
      interval: 10s
      timeout: 5s
      retries: 5

  # PgAdmin - Interface web para gerenciar PostgreSQL
  pgadmin:
    image: dpage/pgadmin4:latest
    container_name: pgadmin-dev
    environment:
      PGADMIN_DEFAULT_EMAIL: admin@example.com
      PGADMIN_DEFAULT_PASSWORD: admin123
    ports:
      - "5050:80"
    networks:
      - dev_network
    depends_on:
      - postgres

volumes:
  postgres_data:
    driver: local

networks:
  dev_network:
    driver: bridge</code></pre>
                </div>

                <h3>Acessar PgAdmin:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">bash</span>
                    </div>
                    <pre><code class="language-bash"># Iniciar
docker-compose up -d

# Acessar PgAdmin em: http://localhost:5050
# Email: admin@example.com
# Senha: admin123

# Conectar ao PostgreSQL:
# Host: postgres (nome do servi√ßo)
# Port: 5432
# Database: dev_db
# User: dev_user
# Password: dev_pass123

# Ou via CLI
docker-compose exec postgres psql -U dev_user -d dev_db</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- STACK COMPLETA -->
            <div class="section">
                <h2>7. Stack Completa: Aplica√ß√£o + Banco + Redis</h2>

                <p>Um exemplo real com m√∫ltiplos servi√ßos para uma aplica√ß√£o Java/Spring Boot.</p>

                <h3>docker-compose.yml - Stack Completa:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">yaml</span>
                    </div>
                    <pre><code class="language-yaml">version: '3.8'

services:
  # Banco de Dados MySQL
  mysql:
    image: mysql:8.0
    container_name: app-mysql
    environment:
      MYSQL_ROOT_PASSWORD: root123
      MYSQL_DATABASE: app_db
      MYSQL_USER: app_user
      MYSQL_PASSWORD: app_pass123
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - app_network
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
      timeout: 20s
      retries: 10

  # Cache Redis
  redis:
    image: redis:7-alpine
    container_name: app-redis
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    networks:
      - app_network
    command: redis-server --appendonly yes
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5

  # Aplica√ß√£o Java/Spring Boot
  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: app-server
    environment:
      SPRING_DATASOURCE_URL: jdbc:mysql://mysql:3306/app_db?useSSL=false
      SPRING_DATASOURCE_USERNAME: app_user
      SPRING_DATASOURCE_PASSWORD: app_pass123
      SPRING_REDIS_HOST: redis
      SPRING_REDIS_PORT: 6379
    ports:
      - "8080:8080"
    volumes:
      - ./src:/app/src
    networks:
      - app_network
    depends_on:
      mysql:
        condition: service_healthy
      redis:
        condition: service_healthy
    restart: unless-stopped

volumes:
  mysql_data:
    driver: local
  redis_data:
    driver: local

networks:
  app_network:
    driver: bridge</code></pre>
                </div>

                <h3>Dockerfile (para a aplica√ß√£o Spring Boot):</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">dockerfile</span>
                    </div>
                    <pre><code class="language-dockerfile">FROM maven:3.9-eclipse-temurin-17 AS builder

WORKDIR /app

# Copiar arquivos do projeto
COPY pom.xml .
COPY src ./src

# Build da aplica√ß√£o
RUN mvn clean package -DskipTests

# Est√°gio final
FROM eclipse-temurin:17-jre

WORKDIR /app

# Copiar JAR do build anterior
COPY --from=builder /app/target/app.jar app.jar

# Expor porta
EXPOSE 8080

# Iniciar aplica√ß√£o
ENTRYPOINT ["java", "-jar", "app.jar"]</code></pre>
                </div>

                <h3>Iniciar a Stack Completa:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">bash</span>
                    </div>
                    <pre><code class="language-bash"># Iniciar todos os servi√ßos
docker-compose up -d

# Ver status
docker-compose ps

# Ver logs de um servi√ßo espec√≠fico
docker-compose logs -f app

# Ver logs de todos
docker-compose logs -f

# Parar tudo
docker-compose down

# Parar e remover volumes
docker-compose down -v</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- COMANDOS √öTEIS -->
            <div class="section">
                <h2>8. Comandos Docker Compose √öteis</h2>

                <h3>Gerenciamento de Containers:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">bash</span>
                    </div>
                    <pre><code class="language-bash"># UP - Criar e iniciar containers
docker-compose up -d              # Background
docker-compose up                 # Modo verbose

# DOWN - Parar e remover containers
docker-compose down               # Mant√©m volumes
docker-compose down -v            # Remove volumes tamb√©m

# PS - Listar containers
docker-compose ps

# START/STOP - Iniciar/Parar containers
docker-compose start
docker-compose stop

# RESTART - Reiniciar containers
docker-compose restart

# LOGS - Ver logs
docker-compose logs -f            # Todos
docker-compose logs -f mysql      # Servi√ßo espec√≠fico
docker-compose logs --tail 50     # √öltimas 50 linhas

# EXEC - Executar comando dentro do container
docker-compose exec mysql bash    # Abrir shell
docker-compose exec mysql ls -la  # Listar arquivos

# BUILD - Reconstruir imagens
docker-compose build
docker-compose build --no-cache   # Sem cache

# PULL - Atualizar imagens
docker-compose pull

# RM - Remover containers parados
docker-compose rm

# CONFIG - Validar e exibir configura√ß√£o
docker-compose config</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- BOAS PR√ÅTICAS -->
            <div class="section">
                <h2>9. Boas Pr√°ticas</h2>

                <div class="solid-box" style="border-left: 5px solid #0ea5e9;">
                    <h3>‚úì Use .env para Vari√°veis de Ambiente</h3>
                    <ul class="explanation-list">
                        <li>Crie arquivo `.env` na raiz do projeto</li>
                        <li>Docker Compose l√™ automaticamente</li>
                        <li>N√£o committe `.env` no git (adicione ao .gitignore)</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #10b981;">
                    <h3>‚úì Use Healthchecks</h3>
                    <ul class="explanation-list">
                        <li>Verifique se servi√ßo est√° realmente pronto</li>
                        <li>Use `depends_on` com condition</li>
                        <li>Evita problemas de inicializa√ß√£o</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #f59e0b;">
                    <h3>‚úì Volumes para Desenvolvimento</h3>
                    <ul class="explanation-list">
                        <li>Mapeie seu c√≥digo local em tempo real</li>
                        <li>Evite reconstruir imagens a cada mudan√ßa</li>
                        <li>Perfeito para desenvolvimento local</li>
                    </ul>
                </div>

                <div class="solid-box" style="border-left: 5px solid #ef4444;">
                    <h3>‚úì Versionamento de Imagens</h3>
                    <ul class="explanation-list">
                        <li>Sempre especifique vers√£o da imagem</li>
                        <li>Evite usar `latest` em produ√ß√£o</li>
                        <li>Garanta reprodutibilidade</li>
                    </ul>
                </div>
            </div>

            <div class="divider"></div>

            <!-- ARQUIVO .ENV -->
            <div class="section">
                <h2>10. Usando Arquivo .env</h2>

                <h3>.env - Vari√°veis de Ambiente:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">bash</span>
                    </div>
                    <pre><code class="language-bash"># .env
MYSQL_ROOT_PASSWORD=root123
MYSQL_DATABASE=app_db
MYSQL_USER=app_user
MYSQL_PASSWORD=app_pass123

REDIS_PORT=6379

SPRING_PORT=8080
SPRING_PROFILE=dev</code></pre>
                </div>

                <h3>docker-compose.yml com .env:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">yaml</span>
                    </div>
                    <pre><code class="language-yaml">version: '3.8'

services:
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_DATABASE: ${MYSQL_DATABASE}
      MYSQL_USER: ${MYSQL_USER}
      MYSQL_PASSWORD: ${MYSQL_PASSWORD}
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql

  redis:
    image: redis:7-alpine
    ports:
      - "${REDIS_PORT}:6379"
    volumes:
      - redis_data:/data

volumes:
  mysql_data:
  redis_data:</code></pre>
                </div>

                <h3>.gitignore - Proteger .env:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">bash</span>
                    </div>
                    <pre><code class="language-bash"># .gitignore
.env
.env.local
.env.*.local

node_modules/
target/
*.log

.DS_Store
.vscode/
.idea/</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- TROUBLESHOOTING -->
            <div class="section">
                <h2>11. Troubleshooting Comum</h2>

                <h3>Problemas e Solu√ß√µes:</h3>
                <div class="code-wrapper">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-lang">bash</span>
                    </div>
                    <pre><code class="language-bash"># ‚ùå Problema: Porta j√° em uso
# Solu√ß√£o: Mude a porta no docker-compose.yml ou:
docker-compose down
sudo lsof -i :3306  # Ver qual processo usa porta
kill -9 PID

---

# ‚ùå Problema: N√£o consegue conectar ao banco
# Solu√ß√£o: Verifique healthcheck e depend√™ncias
docker-compose logs mysql
docker-compose exec mysql mysql -u root -p

---

# ‚ùå Problema: Container sai logo ap√≥s iniciar
# Solu√ß√£o: Verifique logs
docker-compose logs app
# Procure por erros no console

---

# ‚ùå Problema: Volume n√£o est√° funcionando
# Solu√ß√£o: Verifique sintaxe e permiss√µes
docker-compose exec app ls -la /app
# Verifique sintaxe do volume no yml

---

# ‚ùå Problema: Rede n√£o consegue se comunicar
# Solu√ß√£o: Use nome do servi√ßo como hostname
# Correto: jdbc:mysql://mysql:3306/db
# Errado: jdbc:mysql://localhost:3306/db

---

# ‚ùå Problema: Mudan√ßas no c√≥digo n√£o aparecem
# Solu√ß√£o: Verifique se volume est√° configurado
volumes:
  - ./src:/app/src  # Mapeie seu c√≥digo local

---

# Limpar tudo e come√ßar novamente
docker-compose down -v
docker system prune -a
docker-compose up -d --build</code></pre>
                </div>
            </div>

            <div class="divider"></div>

            <!-- EXERC√çCIOS -->
            <div class="section">
                <h2>12. Exerc√≠cios Pr√°ticos</h2>
                
                <div class="exercise-box">
                    <h4>Exerc√≠cio 1: MySQL + PhpMyAdmin</h4>
                    <p>Crie um docker-compose com MySQL e PhpMyAdmin. Inicialize com dados de exemplo. Acesse via PhpMyAdmin e realize consultas.</p>
                </div>

                <div class="exercise-box">
                    <h4>Exerc√≠cio 2: PostgreSQL + PgAdmin</h4>
                    <p>Configure PostgreSQL com PgAdmin. Crie tabelas e dados via SQL. Pratique opera√ß√µes CRUD atrav√©s do PgAdmin.</p>
                </div>

                <div class="exercise-box">
                    <h4>Exerc√≠cio 3: Stack Multi-container</h4>
                    <p>Crie uma aplica√ß√£o Spring Boot que se conecta com MySQL e Redis. Configure docker-compose com todos os servi√ßos, healthchecks e depend√™ncias.</p>
                </div>

                <div class="exercise-box">
                    <h4>Exerc√≠cio 4: Usando .env</h4>
                    <p>Refatore um docker-compose existente para usar arquivo .env. Crie vari√°veis para senhas, portas e nomes de bancos.</p>
                </div>

                <div class="exercise-box">
                    <h4>Exerc√≠cio 5: Volumes e Persist√™ncia</h4>
                    <p>Configure volumes nomeados para banco de dados. Teste que dados persistem ap√≥s `docker-compose down`.</p>
                </div>
            </div>

            <div class="divider"></div>

            <!-- CONCLUS√ÉO -->
            <div class="conclusion-box">
                <h2>Conclus√£o</h2>
                <p><strong>Docker Compose</strong> √© essencial para desenvolvimento moderno, permitindo que todos na equipe tenham o mesmo ambiente.</p>
                <p>Pontos-chave para lembrar:</p>
                <ul class="explanation-list">
                    <li><strong>Um arquivo:</strong> docker-compose.yml define toda a stack</li>
                    <li><strong>F√°cil setup:</strong> `docker-compose up -d` para come√ßar</li>
                    <li><strong>Isolamento:</strong> Containers isolados em rede pr√≥pria</li>
                    <li><strong>Reprodutibilidade:</strong> Mesmo ambiente em qualquer m√°quina</li>
                    <li><strong>Vari√°veis:</strong> Use .env para configura√ß√µes sens√≠veis</li>
                    <li><strong>Healthchecks:</strong> Verifique se servi√ßos est√£o prontos</li>
                </ul>
                <p>Docker Compose √© a ponte entre desenvolvimento local e produ√ß√£o. Domine-o para ser um desenvolvedor mais eficiente! üöÄ</p>
            </div>

        </section>

        <!-- RODAP√â -->
        <footer class="footer">
            <p><strong>JAVA Learning</strong> - Hub de Conte√∫do SENAI</p>
            <p>Docker Compose: MySQL, PostgreSQL, Redis, Multi-container!</p>
            <p>Do setup local √† stack completa: Desenvolvimento reprodut√≠vel e padronizado!</p>
        </footer>
    </div>

    <!-- Bot√£o Voltar ao Topo com Menu -->
    <div class="scroll-to-top-wrapper">
        <button class="scroll-to-top" id="scrollToTop" aria-label="Menu de navega√ß√£o">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="18 15 12 9 6 15"></polyline>
            </svg>
        </button>
        
        <nav class="scroll-menu" id="scrollMenu">
            <ul></ul>
        </nav>
    </div>

    <script defer src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            hljs.highlightAll();
        });
    </script>
</body>
</html>